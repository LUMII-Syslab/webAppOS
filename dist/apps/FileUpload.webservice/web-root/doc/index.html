<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FileUpload Service API.txt</title><link rel="stylesheet" type="text/css" href="Default.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="FileUpload_Service_API"></a><a name="Topic92"></a><div class="CTopic TFile LTextFile first">
 <div class="CTitle">FileUpload Service API</div>
</div>

<a name="Introduction"></a><a name="Topic93"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Introduction</div>
 <div class="CBody"><p>The FileUpload service is used by webAppOS and some apps (e.g., FileBrowser app) to upload files to the server.</p></div>
</div>

<a name="Access_URL"></a><a name="Topic94"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Access URL</div>
 <div class="CBody"><p>The FileUpload service is accessible via the following URL:</p><pre>http[s]://[domain_or_ip]/services/fileupload/[login]/[relative/target/directory/path]</pre><p>Use the HTTP POST method to upload files.</p></div>
</div>

<a name="Authentication"></a><a name="Topic95"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Authentication</div>
 <div class="CBody"><p>All requests require webAppOS authentication.&nbsp; The auth info must be sent in the URL query string (URL encoded) by specifying the &quot;login&quot; and &quot;ws_token&quot; arguments.</p><div class="CHeading">Example</div><pre>http[s]://[domain_or_ip]/services/fileupload/[some/path]?login=[your-login]&amp;ws_token=[your-ws_token]</pre></div>
</div>

<a name="Methods"></a><a name="Topic96"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Methods</div>
</div>

<a name="Upload_a_file_to_the_user's_home_directory"></a><a name="Topic97"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">Upload a file to the user's home directory</div>
 <div id="NDPrototype97" class="NDPrototype NoParameterForm">POST http[s]://[domain_or_ip]/services/fileupload/[login]/[path-to-file-or-folder-relative-to-user<span class="SHString">'s-home]?login=[your-</span><span class="SHString">login</span><span class="SHString">]&amp;ws_token=[your-</span><span class="SHString">ws_token</span><span class="SHString">]</span></div>
 <div class="CBody"><pre>Content-Type: multipart/form-data; boundary=[some-boundary]</pre><p>Uploads one ore more files encoded as multipart form data.&nbsp; An optional field &quot;custom_file_name&quot; can be specified BEFORE each file to specify the desired file name (instead of the original file name).</p><div class="CHeading">Returns</div><p>If the query parameter &quot;onready&quot; is &quot;nocontent&quot;, returns the SC_NO_CONTENT HTTP response.&nbsp; If the query parameter &quot;onready&quot; is &quot;resetcontent&quot;, returns the SC_RESET_CONTENT HTTP response.</p><p>Otherwise, returns a JSON contating information about the uploaded files:</p><pre>{<br />  <span class="SHString">&quot;uploaded&quot;</span>: [<br />     { <span class="SHString">&quot;name&quot;</span>: <span class="SHString">&quot;some file.txt&quot;</span> },<br />     { <span class="SHString">&quot;name&quot;</span>: <span class="SHString">&quot;some file.txt&quot;</span>, <span class="SHString">&quot;newName&quot;</span>: <span class="SHString">&quot;some file 1.txt&quot;</span> }<br />  ]<br />}</pre><p>If the file with the given name already existed, the modified name is returned in the &quot;newName&quot; attribute.</p><p>On error, returns a JSON contatining the &quot;error&quot; attribute. If some files have been uploaded, the &quot;uploaded&quot; attribute is returned as well.</p><pre>{<br />  <span class="SHString">&quot;error&quot;</span>: <span class="SHString">&quot;Some files were not uploaded: file1.txt, file2.txt&quot;</span>,<br />  <span class="SHString">&quot;uploaded&quot;</span>: [<br />     { <span class="SHString">&quot;name&quot;</span>: <span class="SHString">&quot;some file.txt&quot;</span> },<br />     { <span class="SHString">&quot;name&quot;</span>: <span class="SHString">&quot;some file.txt&quot;</span>, <span class="SHString">&quot;newName&quot;</span>: <span class="SHString">&quot;some file 1.txt&quot;</span> }<br />  ]<br />}</pre></div>
</div>

<a name="Upload_a_file_to_an_active_project"></a><a name="Topic98"></a><div class="CTopic TFunction LTextFile last">
 <div class="CTitle">Upload a file to an active project</div>
 <div id="NDPrototype98" class="NDPrototype NoParameterForm">POST http[s]://[domain_or_ip]/services/fileupload/[project_id]/[some/subdirectory]?login=[your-login]&amp;ws_token=[your-ws_token]&amp;project_id=[project_id]</div>
 <div class="CBody"><pre>Content-Type: multipart/form-data; boundary=[some-boundary]</pre><p>All is the same as in <a href="../../../index.html#File:API_Specifications/APIs_of_Bundled_Apps___Services/FileUpload_Service_API.txt:Upload_a_file_to_the_user's_home_directory" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,97);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Upload a file to the user's home directory</a> except that the project_id parameter is added to the query.</p><p>The files are being uploaded to the directory containing extracted files of the given active project; if the subdirectory is specified in the path path, it is prepended to the file name.</p><p>When the project is saved, the uploaded files will remain a part of the project (unless they have been deleted).</p></div>
</div>

</body></html>