(this["webpackJsonpmount.webapp"]=this["webpackJsonpmount.webapp"]||[]).push([[0],{141:function(e,t,n){e.exports=n(176)},146:function(e,t,n){},147:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},148:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(11),r=n.n(i),s=(n(146),n(56)),u=n(82),l=n(48),c=n(53),m=n(88),d=n(87),h=(n(147),n(148),n(1)),p=n(181),f=n(86),v=(n(149),n(150),n(151),window.webappos),g=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var o;Object(u.a)(this,n),(o=t.call(this,e)).myRef=a.a.createRef(),o.state={mountPoints:[],supportedFS:[],columnWidths:[null,null,null,35]};var i=Object(l.a)(o);return v.request_scopes("webappos_scopes","login").then((function(){v.webcall("webappos.getSupportedFileSystems").then((function(e){e.result&&(console.log("supported_fs",e.result),i.setState({supportedFS:e.result},(function(){i.readRegistry()})))}))})),o}return Object(c.a)(n,[{key:"collectMountPointsRecursively",value:function(e,t,n){for(var o in e)"string"===typeof e[o]?t.push({mountPoint:n+o,location:e[o]}):this.collectMountPointsRecursively(e[o],t,n+o+"/");return t}},{key:"updateColumnWidths",value:function(){if(this.myRef.current){var e=this.myRef.current.rootTableElement.offsetWidth-35-35;console.log("w",e);var t=Object(s.a)(this.state.columnWidths);t[0]=.25*e,e-=t[0],t[1]=100,e-=100,t[2]=e,this.setState({columnWidths:t})}}},{key:"readRegistry",value:function(){var e=this;v.webcall("webappos.getUserRegistryValue","fs_mount_points").then((function(t){t.result&&(console.log("registry data",t.result),e.setState({mountPoints:e.collectMountPointsRecursively(t.result,[],"")}))}))}}]),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateColumnWidths()}},{key:"componentDidUpdate",value:function(){console.log("state2",this.state)}},{key:"handleColumnWidthChanged",value:function(e,t){console.log(e,t);var n=Object(s.a)(this.state.columnWidths);n[e]=t,this.setState({columnWidths:n})}},{key:"getLocationPrefix",value:function(e){var t=e.indexOf(":");return t>=0?e.substring(0,t):""}},{key:"removeLocationPrefix",value:function(e){var t=e.indexOf(":");return t>=0?e.substring(t+1):e}},{key:"render",value:function(){var e=this;return a.a.createElement(p.a,{ref:this.myRef,numRows:this.state.mountPoints.length,enableRowResizing:!1,maxRowHeight:32,minRowHeight:32,defaultRowHeight:32,style:{width:"100%"},columnWidths:this.state.columnWidths,onColumnWidthChanged:this.handleColumnWidthChanged,onResize:this.updateColumnWidths()},a.a.createElement(f.a,{name:"Mount Point",cellRenderer:function(t){return a.a.createElement("input",{type:"text",value:e.state.mountPoints[t].mountPoint})}}),a.a.createElement(f.a,{name:"Driver",cellRenderer:function(t){return a.a.createElement("select",null,e.state.supportedFS.map((function(n){return a.a.createElement("option",{value:n,selected:e.getLocationPrefix(e.state.mountPoints[t].mountPoint)==n},n)})))}}),a.a.createElement(f.a,{name:"Location",cellRenderer:function(t){return a.a.createElement("input",{type:"text",value:e.removeLocationPrefix(e.state.mountPoints[t].location)})}}),a.a.createElement(f.a,{name:"",cellRenderer:function(e){return a.a.createElement(h.Button,{icon:"delete"})}}))}}]),n}(a.a.Component);var y=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.dcb1e005.chunk.js.map