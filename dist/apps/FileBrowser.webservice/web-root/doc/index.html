<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FileBrowser Service API.txt</title><link rel="stylesheet" type="text/css" href="Default.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="FileBrowser_Service_API"></a><a name="Topic103"></a><div class="CTopic TFile LTextFile first">
 <div class="CTitle">FileBrowser Service API</div>
</div>

<a name="Introduction"></a><a name="Topic104"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Introduction</div>
 <div class="CBody"><p>The FileBrowser service is a backend service for webAppOS FileBrowser app.</p><p>FileBrowser is a modified version of remoteFileExplorer (available at <a href="https://github.com/speich/remoteFileExplorer" target="_top">https://&#8203;github&#8203;.com&#8203;/speich&#8203;/remoteFileExplorer</a>) tailored for webAppOS API. The FileBrowser app uses Java servlet (instead of original PHP code) to implement RESTful service for accessing the file system. The Java servlet implements the same HTTP API as used by remoteFileExplorer.</p><p>[Browser-side JavaScript code of remoteFileExplorer was written using DoJo Toolkit, thus, it utilizes modules 'dojo/store/Memory', 'dojo/store/JsonRest', 'dojo/store/Observable', and 'dojo/store/Cache' to access remote file system. In particular, the JsonRest module is responsible for sending underlying HTTP requests.]</p></div>
</div>

<a name="Access_URL"></a><a name="Topic105"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Access URL</div>
 <div class="CBody"><p>The FileBrowser service is accessible via the following URL:</p><pre>http[s]://[domain_or_ip]/services/filebrowser/</pre><p>!! The trailing slash is essential because of Jetty configuration used by webAppOS. (See <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=331194#c1" target="_top">https://&#8203;bugs&#8203;.eclipse&#8203;.org&#8203;/bugs&#8203;/show_bug&#8203;.cgi&#8203;?id=331194&#8203;#c1</a> for more info.)</p></div>
</div>

<a name="Authentication"></a><a name="Topic106"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Authentication</div>
 <div class="CBody"><p>All requests except <a href="../../../index.html#File:API_Specifications/APIs_of_Bundled_Apps___Services/FileBrowser_Service_API.txt:/browse" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,114);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >/browse</a> require webAppOS authentication.&nbsp; The auth info must be sent in the &quot;Authorization&quot; HTTP header followed by &quot;webAppOS_token&quot;, followed by the string &quot;login:ws_token&quot;.</p><div class="CHeading">Example</div><pre>Authorization webAppOS_token user1:<span class="SHNumber">123456</span></pre></div>
</div>

<a name="Methods"></a><a name="Topic107"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">Methods</div>
</div>

<a name="Get_info_on_the_given_file_or_folder"></a><a name="Topic108"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">Get info on the given file or folder</div>
 <div id="NDPrototype108" class="NDPrototype NoParameterForm">GET http[s]://[domain_or_ip]/services/filebrowser/home/[path-to-file-or-folder-relative-to-user<span class="SHString">'s-home]</span></div>
 <div class="CBody"><div class="CHeading">Returns</div><p>A JSON contating information about the requested file or folder.</p><pre>{<br />  <span class="SHString">&quot;id&quot;</span>: <span class="SHString">&quot;/home/{path-to-file-or-folder-relative-to-user's-home}&quot;</span>,<br />  <span class="SHString">&quot;dir&quot;</span>: <span class="SHKeyword">true</span>|<span class="SHKeyword">false</span>,<br />  <span class="SHString">&quot;parId&quot;</span>: <span class="SHString">&quot;{parent-folder}&quot;</span>,<br />  <span class="SHString">&quot;name&quot;</span>: <span class="SHString">&quot;{name}&quot;</span>,<br />  <span class="SHString">&quot;size&quot;</span>: <span class="SHNumber">0</span>|<span class="SHNumber">12345</span>,<br />  <span class="SHString">&quot;cre&quot;</span>: {created-timestamp},<br />  <span class="SHString">&quot;mod&quot;</span>: {modified-timestamp},<br />  <span class="SHString">&quot;mime&quot;</span>: <span class="SHString">&quot;directory/desktop&quot;</span>|some other mime (optional)<br />}</pre><p>On error, returns an empty response.</p></div>
</div>

<a name="List_files_in_the_given_folder"></a><a name="Topic109"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">List files in the given folder</div>
 <div id="NDPrototype109" class="NDPrototype NoParameterForm">GET http[s]://[domain_or_ip]/services/filebrowser/home/[path-to-folder-relative-to-user<span class="SHString">'s-home]/?[</span><span class="SHString">masks</span><span class="SHString">]</span></div>
 <div class="CBody"><p>!! The trailing slash is essential.</p><div class="CHeading">Query</div><table class="CDefinitionList"><tr><td class="CDLEntry">[masks]</td><td class="CDLDefinition"><p>is an optional query contatining comma-separated file masks.&nbsp; If the query is specified, the FileBrowser service will return only files matching the given masks.</p></td></tr></table><div class="CHeading">Example</div><pre>GET http[s]://example.org/services/filebrowser/home/ontologies/?*.owl,*.xml</pre><div class="CHeading">Returns</div><p>a JSON <u>array</u> of elements in the same format as in <a href="../../../index.html#File:API_Specifications/APIs_of_Bundled_Apps___Services/FileBrowser_Service_API.txt:Get_info_on_the_given_file_or_folder" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,108);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Get info on the given file or folder</a>.&nbsp; On error, returns an empty response.</p></div>
</div>

<a name="Create_new_file/folder"></a><a name="Topic110"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">Create new file/folder</div>
 <div id="NDPrototype110" class="NDPrototype NoParameterForm">POST http[s]://[domain_or_ip]/services/filebrowser</div>
 <div class="CBody"><p>Request body is a JSON in the form:</p><pre>{<br />  <span class="SHString">&quot;dir&quot;</span>:<span class="SHKeyword">true</span>|<span class="SHKeyword">false</span>,<br />  <span class="SHString">&quot;parId&quot;</span>:<span class="SHString">&quot;/home/[path-to-parent-folder]&quot;</span>,<br />  <span class="SHString">&quot;size&quot;</span>:<span class="SHNumber">0</span>,<br />  <span class="SHString">&quot;name&quot;</span>:<span class="SHString">&quot;new directory&quot;</span>|<span class="SHString">&quot;new file.txt&quot;</span><br />}</pre><div class="CHeading">Returns</div><p>A similar JSON with added attributes:</p><ul><li><p><b>id</b> equal to the path of the newly created file starting from &quot;/home&quot;,</p></li><li><p><b>cre</b> creation timestamp,</p></li><li><p><b>mod</b> the same as cre.</p></li></ul><p>On error, the string &quot;false&quot; is returned.</p></div>
</div>

<a name="Delete_a_file/folder"></a><a name="Topic111"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">Delete a file/folder</div>
 <div id="NDPrototype111" class="NDPrototype NoParameterForm">DELETE http[s]://[domain_or_ip]/services/filebrowser/home/[path-to-file-or-folder-relative-to-user<span class="SHString">'s-home]</span></div>
 <div class="CBody"><div class="CHeading">Returns</div><div class="CHeading">A JSON</div><pre>{<br />  <span class="SHString">&quot;msg&quot;</span>: <span class="SHString">&quot;item deleted&quot;</span><br />}</pre><p>On error, the string &quot;false&quot; is returned.</p></div>
</div>

<a name="Move/Rename_file_or_folder"></a><a name="Topic112"></a><div class="CTopic TFunction LTextFile">
 <div class="CTitle">Move/Rename file or folder</div>
 <div id="NDPrototype112" class="NDPrototype NoParameterForm">PUT http[s]://[domain_or_ip]/services/filebrowser/home/[path-to-file-or-folder-relative-to-user<span class="SHString">'s-home]</span></div>
 <div class="CBody"><p>Request body is a JSON in the form:</p><pre>{<br />  <span class="SHString">&quot;id&quot;</span>:<span class="SHString">&quot;/home/[path-to-file-or-folder-relative-to-user's-home]&quot;</span>,<br />  <span class="SHString">&quot;dir&quot;</span>:<span class="SHKeyword">true</span>|<span class="SHKeyword">false</span>,<br />  <span class="SHString">&quot;parId&quot;</span>:<span class="SHString">&quot;/home/[path-to-new-parent-folder]&quot;</span>,<br />  <span class="SHString">&quot;name&quot;</span>:<span class="SHString">&quot;[new-name]&quot;</span>,<br />  <span class="SHString">&quot;size&quot;</span>:<span class="SHNumber">0</span>|<span class="SHNumber">13752</span>,<br />  <span class="SHString">&quot;cre&quot;</span>:<span class="SHNumber">1542189355769</span>,<br />  <span class="SHString">&quot;mod&quot;</span>:<span class="SHNumber">1542189355769</span><br />}</pre><div class="CHeading">Returns</div><p>A similar JSON with updated &quot;mod&quot; (modified time) value, or the string &quot;false&quot; on error.</p></div>
</div>

<a name="FileBrowser_service_redirect_to_FileBrowser_app"></a><a name="Topic113"></a><div class="CTopic TGroup LTextFile">
 <div class="CTitle">FileBrowser service redirect to FileBrowser app</div>
</div>

<a name="/browse"></a><a name="Topic114"></a><div class="CTopic TFunction LTextFile last">
 <div class="CTitle">/browse</div>
 <div id="NDPrototype114" class="NDPrototype NoParameterForm">GET http[s]://[domain_or_ip]/services/filebrowser/browse/home/[path-to-file-or-folder-relative-to-user<span class="SHString">'s-home]</span></div>
 <div class="CBody"><p>When the URL contains a path that starts with &quot;/browse&quot; instead of &quot;/home&quot;, FileBrowser service will return a redirect response with the URL pointing to the FileBrowser app to serve the path that follows the &quot;/browse&quot; prefix.</p><div class="CHeading">Returns</div><p>Redirects to</p><pre>http{s}://{domain_or_ip}/apps/filebrowser/path=/home/{path-to-file-or-folder-relative-to-user<span class="SHString">'s-home}</span></pre></div>
</div>

</body></html>